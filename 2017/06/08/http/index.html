<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="一.什么是 HTTP?1.1 概述 超文本传输协议(英文:HyperText Transfer Protocol，缩写：HTTP)是互联网上应用最为广泛的一种网络协议。 HTTP 是基于 TCP/IP 协议的应用层协议。它不涉及数据包（packet）传输，主要规定了客户端和服务器之间的通信格式，默认使用80端口。  1.2 版本 最早发布是1991年发布的0.9。该版本极其简单，只有一个命令GET">
<meta property="og:type" content="article">
<meta property="og:title" content="http">
<meta property="og:url" content="http://yoursite.com/2017/06/08/http/index.html">
<meta property="og:site_name" content="私人订制">
<meta property="og:description" content="一.什么是 HTTP?1.1 概述 超文本传输协议(英文:HyperText Transfer Protocol，缩写：HTTP)是互联网上应用最为广泛的一种网络协议。 HTTP 是基于 TCP/IP 协议的应用层协议。它不涉及数据包（packet）传输，主要规定了客户端和服务器之间的通信格式，默认使用80端口。  1.2 版本 最早发布是1991年发布的0.9。该版本极其简单，只有一个命令GET">
<meta property="og:updated_time" content="2017-06-08T08:15:15.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="http">
<meta name="twitter:description" content="一.什么是 HTTP?1.1 概述 超文本传输协议(英文:HyperText Transfer Protocol，缩写：HTTP)是互联网上应用最为广泛的一种网络协议。 HTTP 是基于 TCP/IP 协议的应用层协议。它不涉及数据包（packet）传输，主要规定了客户端和服务器之间的通信格式，默认使用80端口。  1.2 版本 最早发布是1991年发布的0.9。该版本极其简单，只有一个命令GET">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2017/06/08/http/"/>





  <title>http | 私人订制</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  















  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">私人订制</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">不积跬步无以至千里</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/08/http/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jane">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="私人订制">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">http</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-08T14:45:46+08:00">
                2017-06-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="一-什么是-HTTP"><a href="#一-什么是-HTTP" class="headerlink" title="一.什么是 HTTP?"></a>一.什么是 HTTP?</h2><h3 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h3><ul>
<li>超文本传输协议(英文:HyperText Transfer Protocol，缩写：HTTP)是互联网上应用最为广泛的一种网络协议。</li>
<li>HTTP 是基于 TCP/IP 协议的应用层协议。它不涉及数据包（packet）传输，主要规定了客户端和服务器之间的通信格式，默认使用80端口。</li>
</ul>
<h3 id="1-2-版本"><a href="#1-2-版本" class="headerlink" title="1.2 版本"></a>1.2 版本</h3><ul>
<li>最早发布是1991年发布的0.9。该版本极其简单，只有一个命令GET。</li>
<li>1996年发布了1.0版本（RFC 1945）。这是第一个在通讯中指定版本号的HTTP协议版本，至今仍被广泛采用，特别是在代理服务器中。</li>
<li>1999年发布了1.1版本（RFC 2616）这是最著名的版本。</li>
<li>HTTP/2标准于2015年5月以（RFC 7540）正式发表，替换HTTP 1.1成为HTTP的实现标准。</li>
</ul>
<p>注：不同版本的区别会在下边具体说明</p>
<h2 id="二-http的消息结果"><a href="#二-http的消息结果" class="headerlink" title="二. http的消息结果"></a>二. http的消息结果</h2><ol>
<li><p>HTTP是基于客户端/服务端（C/S）的架构模型，通过一个可靠的链接来交换信息，是一个无状态的请求/响应协议。</p>
</li>
<li><p>http请求的结果</p>
</li>
</ol>
<p>2.1 客户端请求消息由四个部分组成：请求行（request line）、请求头部（header）、空行和请求数据。</p>
<p>例如（客户端请求消息）：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">POST</span> <span class="string">/weather/pb/widget</span> HTTP/1.1</div><div class="line"><span class="attribute">Host</span>: v1.weather.moji.com</div><div class="line"><span class="attribute">Content-Type</span>: application/x-www-form-urlencoded</div><div class="line"><span class="attribute">Connection</span>: keep-alive</div><div class="line"><span class="attribute">Accept</span>: */*</div><div class="line"><span class="attribute">User-Agent</span>: %E5%A2%A8%E8%BF%B9%E5%A4%A9%E6%B0%94-%E7%8E%B0%E5%9C%A8/5006020402 CFNetwork/808.0.2 Darwin/16.0.0</div><div class="line"><span class="attribute">Accept-Language</span>: zh-cn</div><div class="line"><span class="attribute">Accept-Encoding</span>: gzip, deflate</div><div class="line"><span class="attribute">Content-Length</span>: 586</div><div class="line"></div><div class="line"><span class="undefined">&#123;</span></div><div class="line">"common" : &#123;</div><div class="line">"unix" : "1488542776640.153",</div><div class="line">"uid" : 658944032,</div><div class="line">.....</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>以上可以看出</p>
<p>请求行（request line）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">POST /weather/pb/widget HTTP/1.1</div></pre></td></tr></table></figure></p>
<p>请求头部（header）：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">Host: v1.weather.moji.com</div><div class="line">Content-Type: application/x-www-form-urlencoded</div><div class="line">Connection: keep-alive</div><div class="line">Accept: */*</div><div class="line">User-Agent: %E5%A2%A8%E8%BF%B9%E5%A4%A9%E6%B0%94-%E7%8E%B0%E5%9C%A8/5006020402 CFNetwork/808.0.2 Darwin/16.0.0</div><div class="line">Accept-Language: zh-cn</div><div class="line">Accept-Encoding: gzip, deflate</div><div class="line">Content-Length: 586</div></pre></td></tr></table></figure></p>
<p>请求数据：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">&quot;common&quot; : &#123;</div><div class="line">&quot;unix&quot; : &quot;1488542776640.153&quot;,</div><div class="line">&quot;uid&quot; : 658944032,</div><div class="line">.....</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>空行：请求数据和请求头部之间</p>
<p>2.2  服务器也有四部分组成：状态行、消息报头、空行和响应正文。</p>
<p>例如（服务器响应消息）：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">HTTP/1.1 <span class="number">200</span> OK</div><div class="line"><span class="attribute">Server</span>: MJWS/Weather3.1</div><div class="line"><span class="attribute">Date</span>: Wed, 15 Mar 2017 07:32:24 GMT</div><div class="line"><span class="attribute">Content-Length</span>: 4139</div><div class="line"><span class="attribute">Connection</span>: keep-alive</div><div class="line"></div><div class="line"><span class="undefined">¥å°äº ((0ú8B	è¥¿åé£Jæå¼±PÀìóîÙVXÚÚVbä¸é</span></div><div class="line">å¹´äºæåå</div><div class="line">«hpÀ×ÚVz2ç¥å¾®åå||ç¥å¾®ååï¼è¿æ¯è®èéçã @ ¢025ªæ¼å¤æ¸©å·®15â²æ³¨æéæ¶å¢åè¡£ç©ãº$4Âtåäº¬å¸ï¼ä»å¤å°æå¤©ï¼å¤äºâ</div><div class="line">ï¼2~17âï¼åé£è½¬åé£3çº§ï¼ç©ºæ° è¯ï¼æå¤©éè¡å°¾å·ï¼2å7ãÊ8</div></pre></td></tr></table></figure>
<p>状态行：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">HTTP/1.1 <span class="number">200</span> OK</div></pre></td></tr></table></figure>
<p>消息报头:</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">Server</span>: MJWS/Weather3.1</div><div class="line"><span class="attribute">Date</span>: Wed, 15 Mar 2017 07:32:24 GMT</div><div class="line"><span class="attribute">Content-Length</span>: 4139</div><div class="line"><span class="attribute">Connection</span>: keep-alive</div></pre></td></tr></table></figure>
<p>响应正文:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">¥å°äº ((0ú8B	è¥¿åé£Jæå¼±PÀìóîÙVXÚÚVbä¸é</div><div class="line">å¹´äºæåå</div><div class="line">«hpÀ×ÚVz2ç¥å¾®åå||ç¥å¾®ååï¼è¿æ¯è®èéçã @ ¢025ªæ¼å¤æ¸©å·®15â²æ³¨æéæ¶å¢åè¡£ç©ãº$4Âtåäº¬å¸ï¼ä»å¤å°æå¤©ï¼å¤äºâ</div><div class="line">ï¼2~17âï¼åé£è½¬åé£3çº§ï¼ç©ºæ° è¯ï¼æå¤©éè¡å°¾å·ï¼2å7ãÊ8</div></pre></td></tr></table></figure>
<h2 id="三-http的请求方式"><a href="#三-http的请求方式" class="headerlink" title="三.http的请求方式"></a>三.http的请求方式</h2><p>根据HTTP标准，HTTP请求可以使用多种请求方法。</p>
<p>HTTP1.0定义了三种请求方法： GET, POST 和 HEAD方法。</p>
<p>HTTP1.1新增了五种请求方法：OPTIONS, PUT, DELETE, TRACE 和 CONNECT 方法。</p>
<p>常见的两种用法为 GET 和 POST</p>
<blockquote>
<p>注：区别</p>
<p>GET：请求指定的页面信息，并返回实体主体。</p>
<p>POST：向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。POST请求可能会导致新的资源的建立和/或已有资源的修改。</p>
</blockquote>
<h2 id="四-http的响应头信息"><a href="#四-http的响应头信息" class="headerlink" title="四.http的响应头信息"></a>四.http的响应头信息</h2><h3 id="4-1-HTTP-通用头"><a href="#4-1-HTTP-通用头" class="headerlink" title="4.1 HTTP 通用头"></a>4.1 HTTP 通用头</h3><p>通用头域包含请求和响应消息都支持的头域，通用头域包含缓存头部Cache-Control、Pragma及信息性头部Connection、Date、Transfer-Encoding、Update、Via。</p>
<ol>
<li>cache-control</li>
</ol>
<p>Cache-Control指定请求和响应遵循的缓存机制。在请求消息或响应消息中设置 Cache-Control并不会修改另一个消息处理过程中的缓存处理过程</p>
<ol>
<li>pragma</li>
</ol>
<p>Pragma头域用来包含实现特定的指令，最常用的是Pragma:no-cache。在HTTP/1.1协议中，它的含义和Cache- Control:no-cache相同。</p>
<ol>
<li>Connection</li>
</ol>
<p>表示是否需要持久连接。</p>
<p>Close：告诉WEB服务器或者代理服务器，在完成本次请求的响应后，断开连接，不要等待本次连接的后续请求了。</p>
<p>Keepalive：告诉WEB服务器或者代理服务器，在完成本次请求的响应后，保持连接，等待本次连接的后续请求。</p>
<p>Keep-Alive：如果浏览器请求保持连接，则该头部表明希望 WEB 服务器保持连接多长时间（秒），如Keep-Alive：300。</p>
<h3 id="4-2-HTTP-请求头"><a href="#4-2-HTTP-请求头" class="headerlink" title="4.2 HTTP 请求头"></a>4.2 HTTP 请求头</h3><p>请求头用于说明是谁或什么在发送请求、请求源于何处，或者客户端的喜好及能力。</p>
<ol>
<li>Accept：</li>
</ol>
<p>告诉WEB服务器自己接受什么介质类型，<em>/</em> 表示任何类型，type/* 表示该类型下的所有子类型，type/sub-type。</p>
<ol>
<li>Accept-Charset</li>
</ol>
<p>浏览器告诉服务器自己能接收的字符集。</p>
<ol>
<li>Accept-Encoding</li>
</ol>
<p>浏览器申明自己接收的编码方法，通常指定压缩方法，是否支持压缩，支持什么压缩方法（gzip，deflate）。</p>
<ol>
<li>Accept-Language</li>
</ol>
<p>浏览器申明自己接收的语言。语言跟字符集的区别：中文是语言，中文有多种字符集，比如big5，gb2312，gbk等等。</p>
<ol>
<li>Authorization</li>
</ol>
<p>当客户端接收到来自WEB服务器的 WWW-Authenticate 响应时，用该头部来回应自己的身份验证信息给WEB服务器。</p>
<ol>
<li>Range</li>
</ol>
<p>浏览器（比如 Flashget 多线程下载时）告诉 WEB 服务器自己想取对象的哪部分。例如：Range: bytes=1173546</p>
<ol>
<li>Host</li>
</ol>
<p>客户端指定自己想访问的WEB服务器的域名/IP 地址和端口号。如Host：rss.sina.com.cn</p>
<ol>
<li>User-Agent</li>
</ol>
<p>浏览器表明自己的身份（是哪种浏览器）。例如：User-Agent：Mozilla/5.0 (Windows; U; Windows NT 5.1; zh-CN;rv:1.8.1.14) Gecko/20080404 Firefox/2.0.0.14</p>
<h3 id="4-3-HTTP-响应头"><a href="#4-3-HTTP-响应头" class="headerlink" title="4.3 HTTP 响应头"></a>4.3 HTTP 响应头</h3><p>响应头向客户端提供一些额外信息，比如谁在发送响应、响应者的功能，甚至与响应相关的一些特殊指令。这些头部有助于客户端处理响应，并在将来发起更好的请求。（对响应头域的扩展要求通讯双方都支持，如果存在不支持的响应头域，一般将会作为实体头域处理。）</p>
<ol>
<li>Age</li>
</ol>
<p>当代理服务器用自己缓存的实体去响应请求时，用该头部表明该实体从产生到现在经过多长时间了。</p>
<ol>
<li>Server</li>
</ol>
<p>WEB 服务器表明自己是什么软件及版本等信息。例如：Server：Apache/2.0.61 (Unix)</p>
<ol>
<li>Accept-Ranges</li>
</ol>
<p>WEB服务器表明自己是否接受获取其某个实体的一部分（比如文件的一部分）的请求。bytes：表示接受，none：表示不接受。</p>
<h3 id="4-4-HTTP-实体头"><a href="#4-4-HTTP-实体头" class="headerlink" title="4.4 HTTP 实体头"></a>4.4 HTTP 实体头</h3><p>实体头部提供了有关实体及其内容的大量信息，从有关对象类型的信息，到能够对资源使用的各种有效的请求方法。总之，实体头部可以告知接收者它在对什么进行处理。请求消息和响应消息都可以包含实体信息，实体信息一般由实体头域和实体组成。</p>
<ol>
<li>Allow</li>
</ol>
<p>服务器支持哪些请求方法（如GET、POST等）。</p>
<ol>
<li>Location</li>
</ol>
<p>表示客户应当到哪里去提取文档，用于将接收端定位到资源的位置（URL）上。Location通常不是直接设置的，而是通过HttpServletResponse的sendRedirect方法，该方法同时设置状态代码为302。</p>
<ol>
<li>Content-Language</li>
</ol>
<p>WEB 服务器告诉浏览器理解主体时最适宜使用的自然语言。</p>
<ol>
<li>Content-Length</li>
</ol>
<p>WEB服务器告诉浏览器自己响应的对象的长度或尺寸，例如：Content-Length: 26012</p>
<ol>
<li>Content-Type</li>
</ol>
<p>WEB 服务器告诉浏览器自己响应的对象的类型。例如：Content-Type：application/xml。</p>
<ol>
<li>Content-Encoding</li>
</ol>
<p>WEB服务器表明自己使用了什么压缩方法（gzip，deflate）压缩响应中的对象。例如：Content-Encoding：gzip。</p>
<h2 id="五-http的状态码"><a href="#五-http的状态码" class="headerlink" title="五.http的状态码"></a>五.http的状态码</h2><p>当浏览者访问一个网页时，浏览者的浏览器会向网页所在服务器发出请求。当浏览器接收并显示网页前，此网页所在的服务器会返回一个包含HTTP状态码的信息头（server header）用以响应浏览器的请求。HTTP状态码的英文为HTTP Status Code。</p>
<p>下面为常见的 HTTP 状态码：</p>
<ul>
<li>200 - 请求成功</li>
<li>301 - 资源（网页等）被永久转移到其它URL</li>
<li>404 - 请求的资源（网页等）不存在</li>
<li>500 - 内部服务器错误</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">分类     | 分类描述</div><div class="line"></div><div class="line">1**     |服务器收到请求，需要请求者继续执行操作</div><div class="line"></div><div class="line">2**     |成功，操作被成功接收并处理</div><div class="line"></div><div class="line">3**     |重定向，需要进一步的操作以完成请求</div><div class="line"></div><div class="line">4**     |客户端错误，请求包含语法错误或者无法完成的请求</div><div class="line"></div><div class="line">5**     |服务器错误，服务器在处理请求的过程中发生了错误</div></pre></td></tr></table></figure>
<h2 id="注：对于不同版本之间的区别分析"><a href="#注：对于不同版本之间的区别分析" class="headerlink" title="注：对于不同版本之间的区别分析"></a>注：对于不同版本之间的区别分析</h2><ul>
<li>0.9版本</li>
</ul>
<ul>
<li><p>只有一个 GET方法，</p>
</li>
<li><p>协议规定，服务器只能回应 HTML 格式的字符串，不能回应别的格式。</p>
</li>
<li><p>服务器发送完毕后就关闭 TCP 连接。</p>
</li>
</ul>
<ul>
<li>1996年发布了1.0版本（RFC 1945）</li>
</ul>
<ul>
<li><p>除了GET命令，还引入了POST命令和HEAD命令，丰富了浏览器与服务器的互动手段。</p>
</li>
<li><p>HTTP请求和回应的格式也变了。除了数据部分，每次通信都必须包括头信息（HTTP header），用来描述一些元数据。其他的新增功能还包括状态码（status code）、多字符集支持、多部分发送（multi-part type）、权限（authorization）、缓存（cache）、内容编码（content encoding）等。</p>
</li>
<li><p>第一行是请求命令，必须在尾部添加协议版本（HTTP/1.0）。后面就是多行头信息，描述客户端的情况。</p>
</li>
<li><p>1.0版规定，头信息必须是 ASCII 码，后面的数据可以是任何格式。因此，服务器回应的时候，必须告诉客户端，数据是什么格式，这就是Content-Type字段的作用。</p>
</li>
<li><p>缺点：每个TCP连接只能发送一个请求。发送数据完毕，连接就关闭，如果还要请求其他资源，就必须再新建一个连接。为了解决这个问题，有些浏览器在请求时，用了一个非标准的Connection字段。这个字段要求服务器不要关闭TCP连接，以便其他请求复用。服务器同样回应这个字段。但是，这不是标准字段。</p>
</li>
</ul>
<ul>
<li>1999年发布了1.1版本（RFC 2616）</li>
</ul>
<ul>
<li><p>1.1 版的最大变化，就是引入了持久连接（persistent connection），即TCP连接默认不关闭，可以被多个请求复用，不用声明Connection: keep-alive。</p>
</li>
<li><p>客户端和服务器发现对方一段时间没有活动，就可以主动关闭连接。不过，规范的做法是，客户端在最后一个请求时，发送Connection: close，明确要求服务器关闭TCP连接。</p>
</li>
<li><p>对于同一个域名，大多数浏览器允许同时建立6个持久连接。</p>
</li>
<li><p>缺点：同一个TCP连接里面，所有的数据通信是按次序进行的。服务器只有处理完一个回应，才会进行下一个回应。要是前面的回应特别慢，后面就会有许多请求排队等着。这称为”队头堵塞”（Head-of-line blocking）。为了避免这个问题，只有两种方法：一是减少请求数，二是同时多开持久连接。</p>
</li>
</ul>
<ul>
<li>HTTP/2标准于2015年5发布了HTTP/2（RFC 7540）</li>
</ul>
<ul>
<li><p>二进制:HTTP/1.1 版的头信息肯定是文本（ASCII编码），数据体可以是文本，也可以是二进制。HTTP/2 则是一个彻底的二进制协议，头信息和数据体都是二进制，并且统称为”帧”（frame）：头信息帧和数据帧。</p>
</li>
<li><p>多工：在一个连接里，客户端和浏览器都可以同时发送多个请求或回应，而且不用按照顺序一一对应，这样就避免了”队头堵塞”。这样双向的、实时的通信，就叫做多工（Multiplexing）。</p>
</li>
<li><p>数据流： 因为 HTTP/2 的数据包是不按顺序发送的，同一个连接里面连续的数据包，可能属于不同的回应。HTTP/2 将每个请求或回应的所有数据包，称为一个数据流（stream）。每个数据流都有一个独一无二的编号。数据包发送的时候，都必须标记数据流ID，用来区分它属于哪个数据流。另外还规定，客户端发出的数据流，ID一律为奇数，服务器发出的，ID为偶数。</p>
</li>
</ul>
<p>数据流发送到一半的时候，客户端和服务器都可以发送信号（RST_STREAM帧），取消这个数据流。1.1版取消数据流的唯一方法，就是关闭TCP连接。这就是说，HTTP/2 可以取消某一次请求，同时保证TCP连接还打开着，可以被其他请求使用。</p>
<p>客户端还可以指定数据流的优先级。优先级越高，服务器就会越早回应。</p>
<ul>
<li><p>头信息的压缩：每一次的请求有许多字段都是重复的，这样会浪费许多宽带资源，也影响速度。所以 HTTP/2做了优化，一方面，头信息可以使用 gzip或 compress 压缩后在发送；另一方面，客户端和服务器同时维护一张头信息表，所有字段存入这张表中生成索引号，以后不会发送同样字段，只发送索引号，这样就可以提高速度；</p>
</li>
<li><p>服务器推送：HTTP/2 允许服务器未经请求，主动向客户端发送资源，这叫做服务器推送（server push）。</p>
</li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/06/08/hexo搭建/" rel="prev" title="hexo搭建">
                hexo搭建 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Jane" />
          <p class="site-author-name" itemprop="name">Jane</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#一-什么是-HTTP"><span class="nav-number">1.</span> <span class="nav-text">一.什么是 HTTP?</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-概述"><span class="nav-number">1.1.</span> <span class="nav-text">1.1 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-版本"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 版本</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#二-http的消息结果"><span class="nav-number">2.</span> <span class="nav-text">二. http的消息结果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#三-http的请求方式"><span class="nav-number">3.</span> <span class="nav-text">三.http的请求方式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#四-http的响应头信息"><span class="nav-number">4.</span> <span class="nav-text">四.http的响应头信息</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4-1-HTTP-通用头"><span class="nav-number">4.1.</span> <span class="nav-text">4.1 HTTP 通用头</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-2-HTTP-请求头"><span class="nav-number">4.2.</span> <span class="nav-text">4.2 HTTP 请求头</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-3-HTTP-响应头"><span class="nav-number">4.3.</span> <span class="nav-text">4.3 HTTP 响应头</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-4-HTTP-实体头"><span class="nav-number">4.4.</span> <span class="nav-text">4.4 HTTP 实体头</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#五-http的状态码"><span class="nav-number">5.</span> <span class="nav-text">五.http的状态码</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#注：对于不同版本之间的区别分析"><span class="nav-number">6.</span> <span class="nav-text">注：对于不同版本之间的区别分析</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jane</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
